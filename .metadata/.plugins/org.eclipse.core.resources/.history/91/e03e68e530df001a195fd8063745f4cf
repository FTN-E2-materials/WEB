package dao;

import com.google.gson.GsonBuilder;

import beans.Administrator;
import beans.Guest;
import beans.Host;
import beans.User;
import gson.extras.RuntimeTypeAdapterFactory;

public class UsersDao extends JSONRepository<User, String> {

	public UsersDao(String path) {
		RuntimeTypeAdapterFactory<User> userAdapterFactory = RuntimeTypeAdapterFactory.of(User.class)
		        .registerSubtype(Guest.class)
		        .registerSubtype(Administrator.class)
		        .registerSubtype(Host.class);
		Gson gs = new GsonBuilder()
			     .registerTypeAdapterFactory(userAdapterFactory)
		         .create();
		super(path, User.class, n);
	}

}
